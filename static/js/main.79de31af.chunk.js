(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{22:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(14),r=c.n(n),s=c(4),a=(c(22),c(2)),i=c(0),o=function(){return Object(i.jsx)("nav",{className:"navbar is-primary",children:Object(i.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(i.jsxs)("div",{className:"navbar-start",children:[Object(i.jsx)("div",{className:"navbar-item",children:Object(i.jsx)(s.b,{to:"/home",children:Object(i.jsx)("button",{type:"button",className:"button is-link",children:"Home"})})}),Object(i.jsx)("div",{className:"navbar-item",children:Object(i.jsx)(s.b,{to:"/people",children:Object(i.jsx)("button",{type:"button",className:"button is-link",children:"People"})})})]})})})},l=function(){return Object(i.jsx)("h1",{className:"is-size-1 has-text-centered",children:"Home page"})},j=c(9),b=c(5),d=c(7),u=c.n(d),h=c(1),O=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=c(17),p=c(15),m=c.n(p),f=c(16),v=c.n(f),g=function(){var e=Object(h.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],r=Object(a.g)(),s=Object(a.f)(),o=new URLSearchParams(s.search),l=Object(h.useCallback)(v()((function(e){e?o.set("query",e):o.delete("query"),r("?".concat(o.toString()))}),500),[]);return Object(i.jsx)("div",{className:"filtering",children:Object(i.jsx)("input",{type:"text","data-cy":"filterInput",value:c,onChange:function(e){return t=e.target.value,n(t),void l(t);var t}})})},N=function(e){var t=e.person,c=e.people,n=t.slug,r=t.name,o=t.sex,l=t.born,j=t.died,b=t.motherName,d=t.fatherName,u=Object(a.f)(),h=new URLSearchParams(u.search),O=function(e){return c.find((function(t){return t.name===e}))?Object(i.jsx)("p",{className:"is-clickable",children:e}):Object(i.jsx)("p",{className:"has-text-weight-bold has-text-black",children:e})};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("td",{children:Object(i.jsx)(s.b,{to:"/people/".concat(n,"?").concat(h.toString()),children:Object(i.jsx)("p",{className:"is-clickable",style:"m"===o?{color:"rgb(0, 71, 171)"}:{color:"rgb(255, 0, 0)"},children:r})})}),Object(i.jsx)("td",{children:o}),Object(i.jsx)("td",{children:l}),Object(i.jsx)("td",{children:j}),Object(i.jsx)("td",{style:{color:"rgb(255, 0, 0)"},children:Object(i.jsx)(s.b,{to:"/people/".concat(n,"?").concat(h.toString()),children:b&&O(b)})}),Object(i.jsx)("td",{style:{color:"rgb(0, 71, 171)"},children:Object(i.jsx)(s.b,{to:"/people/".concat(n,"?").concat(h.toString()),children:d&&O(d)})})]})},y=function(e){var t=e.people,c=Object(a.h)().userSlug,n=Object(a.g)(),r=Object(a.f)(),s=new URLSearchParams(r.search),o=s.get("query")||"",l=s.get("sortBy")||"",j=s.get("sortOrder")||"",b=function(e){return l===e?j?Object(i.jsx)("div",{className:"fas fa-caret-square-up"}):Object(i.jsx)("div",{className:"fas fa-caret-square-down"}):Object(i.jsx)("div",{className:"far fa-caret-square-down"})},d=function(e){l&&l===e?j?(s.delete("sortBy"),s.delete("sortOrder")):s.set("sortOrder","desk"):(s.set("sortBy",e),s.delete("sortOrder")),n("?".concat(s.toString()))},u=Object(x.a)(t);if(o){var h=o.toLowerCase();u=u.filter((function(e){var t,c;return e.name.toLowerCase().includes(h)||(null===(t=e.motherName)||void 0===t?void 0:t.toLowerCase().includes(h))||(null===(c=e.fatherName)||void 0===c?void 0:c.toLowerCase().includes(h))}))}return l&&u.sort((function(e,t){switch(l){case"name":case"sex":return e[l].localeCompare(t[l]);case"born":case"died":return e[l]-t[l];default:return 0}})),j&&u.reverse(),Object(i.jsxs)("div",{className:"is-flex is-justify-content-center",children:[Object(i.jsxs)("table",{className:"table table-striped",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{onClick:function(){return d("name")},children:["Name ",b("name")]}),Object(i.jsxs)("th",{onClick:function(){return d("sex")},children:["Sex ",b("sex")]}),Object(i.jsxs)("th",{onClick:function(){return d("born")},children:["Born ",b("born")]}),Object(i.jsxs)("th",{onClick:function(){return d("died")},children:["Died ",b("died")]}),Object(i.jsx)("th",{children:"Mother"}),Object(i.jsx)("th",{children:"Father"})]})}),Object(i.jsx)("tbody",{children:u.map((function(e){return Object(i.jsx)("tr",{className:m()("on-hover",{"has-background-primary-light":c===e.slug}),children:Object(i.jsx)(N,{person:e,people:u})},e.slug)}))})]}),Object(i.jsx)(g,{})]})},w=function(){var e=Object(h.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(h.useEffect)((function(){var e=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){throw new Error(e)}))}),[]),Object(i.jsxs)("div",{className:"people",children:[Object(i.jsx)("h1",{className:"is-size-1 has-text-centered",children:"People table"}),Object(i.jsx)(y,{people:c})]})},k=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),Object(i.jsxs)(a.d,{children:[Object(i.jsx)(a.b,{path:"/",element:Object(i.jsx)(l,{})}),Object(i.jsxs)(a.b,{path:"people",children:[Object(i.jsx)(a.b,{index:!0,element:Object(i.jsx)(w,{})}),Object(i.jsx)(a.b,{path:":userSlug",element:Object(i.jsx)(w,{})})]}),Object(i.jsx)(a.b,{path:"/home",element:Object(i.jsx)(a.a,{to:"/",replace:!0})}),Object(i.jsx)(a.b,{path:"*",element:Object(i.jsx)("h1",{children:"Page not found"})})]})]})};r.a.render(Object(i.jsx)(s.a,{children:Object(i.jsx)(k,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.79de31af.chunk.js.map